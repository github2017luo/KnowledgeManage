{"version":3,"file":"static/webpack/static/development/pages/index.js.510e8570a0ecfba53772.hot-update.js","sources":["webpack:///./pages/index.js"],"sourcesContent":["// import Header from '../components/Header';\nimport Layout from '../components/MyLayout';\nimport Link from 'next/link';\n// fetch api模块\nimport fetch from 'isomorphic-unfetch';\n\n// 通过传入不同的href 可以跳转到相同的post页面 带有不同的查询参数\n// as是用于装饰url 具体router还是根据href跳转\nconst Index = (props) => (\n    // <li>\n    //     <Link as={`/p/${props.title}`} href={`/post?title=${props.title}`}>\n    //         <a>{props.title}</a>\n    //     </Link>\n    // </li>\n    <Layout>\n        <h1>Batman Tv Shows</h1>\n        <ul>\n            {props.shows.map(({show}) => (\n                <li key={show.id}>\n                    <Link as={`/p/${show.id}`} href={`/post?id=${show.id}`}>\n                        <a>{show.name}</a>\n                    </Link>\n                </li>\n            ))}\n        </ul>\n    </Layout>\n)\n\n// 这里通过 getInitialProps方法 给index组件注入props\nIndex.getInitialProps = async function() {\n    const res = await fetch('http://api.tvmaze.com/search/shows?q=batman');\n    const data = await res.json();\n    // 这里的console会出现在服务端控制台 因为是通过服务端渲染的\n    console.log(`Show data fetched. Count: ${data.length}`)\n    return {\n        shows: data,\n    }\n}\n\n// export default () => (\n//     <Layout>\n//         <h1>My Blog</h1>\n//         <ul>\n//             <PostLink title=\"Hello Next.js\" />\n//             <PostLink title=\"Learn Next.js is awesome\" />\n//             <PostLink title=\"Deploy apps with Zeit\" />\n//         </ul>\n//     </Layout>\n// )\nexport default Index;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAGA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAGA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAFA;AATA;AAAA;AACA;AACA;AAmBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAAA;AACA;AADA;AAEA;AACA;AACA;AAJA;AAMA;AADA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}