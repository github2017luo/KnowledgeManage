{"version":3,"file":"static/webpack/static/development/pages/post.js.ee070251a0a2d6b3e896.hot-update.js","sources":["webpack:///./pages/post.js"],"sourcesContent":["import { withRouter } from 'next/router';\nimport Layout from '../components/MyLayout.js';\nimport fetch from 'isomorphic-unfetch';\n\n// 通过withRouter高阶函数获取url对象的props参数\n\n// const Content = withRouter((props) => (\n//     <div>\n//         <h1>{props.router.query.title}</h1>\n//         <p>This is the blog post content</p>\n//     </div>\n// ))\n\nconst Post = (props) => (\n    <Layout>\n        <h1>{props.show.name}</h1>\n        <p>{props.show.summary.replace(/<[/]?p>/g, '')}</p>\n        <img src={props.show.image.medium} />\n    </Layout>\n)\n\nPost.getInitialProps = async function (context) {\n    const { id } = context.query;\n    console.log(id);\n    const res = await fetch(`https://api.tvmaze.com/shows/${id}`)    \n    const show = await res.json();\n    // 这里的console会出现在客户端console 因为从server中拦截了此路由通过客户端渲染\n    console.log(`Fetched show: ${show.name}`)\n    return { show }\n}\n\n// const Page = () => (\n//     <Layout>\n//         <Content></Content>\n//     </Layout>\n// )\n\nexport default Post;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAIA;AAAA;AAJA;AACA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAFA;AAAA;AACA;AADA;AAGA;AAHA;AAAA;AACA;AADA;AAIA;AACA;AACA;AANA;AAOA;AAAA;AACA;AARA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAWA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}